<h1> Listing Books </h1>
<%= link_to "New Book", new_book_path %>
<%= form_tag books_path, :method => "get" do %>
  <%= label_tag(:search, "Please search") %>
  <%= text_field_tag :search, params[:search] %>
  <%= submit_tag("Search", :name => nil) %>
<% end %>

<% if params[:search] %>
<%= link_to "Previous Page", books_path(page: @page - 1, search: params[:search])  if @page!= 0 %>
|
<%= link_to "Next Page", books_path(page: @page + 1, search: params[:search])  if @page < (@books_count/3) %>
<% else %>
<%= link_to "Previous Page", books_path(page: @page - 1)  if @page!= 0 %>
|
<%= link_to "Next Page", books_path(page: @page + 1)  if @page < (@books_count/3) %>
<% end %>

<table>
  <thead>
    <tr>
      <th> Title </th>
      <th> Book_id </th>
      <th> Author_id </th>
      <th colspan="3">Action</th>
    </tr>
  </thead>
  <tbody>
    <% @books.each do |book| %>
      <tr>
        <td><%= book.title %></td>
        <td><%= book.id %></td>
        <td><%= book.author_id %></td>
        <td><%= link_to 'View', book %></td>
        <td><%= link_to 'Edit', edit_book_path(book) %></td>
        <td><%=  button_to "delete", book_path(book.id), method: :delete  %></td>
      </tr>
    <% end %>
  </tbody>
</table>