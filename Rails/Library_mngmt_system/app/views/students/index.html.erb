<h1> Listing Students </h1>
<%= link_to "New Student", new_student_path %>
<%= form_tag students_path, :method => "get" do %>
  <%= label_tag(:search, "Please search") %>
  <%= text_field_tag :search, params[:search] %>
  <%= submit_tag("Search", :first_name => nil) %>
<% end %>

<% if params[:search] %>
<%= link_to "Previous Page", students_path(page: @page - 1, search: params[:search])  if @page!= 0 %>
|
<%= link_to "Next Page", students_path(page: @page + 1, search: params[:search])  if @page < (@students_count/3) %>
<% else %>
<%= link_to "Previous Page", students_path(page: @page - 1)  if @page!= 0 %>
|
<%= link_to "Next Page", students_path(page: @page + 1)  if @page < (@students_count/3) %>
<% end %>

<table>
  <thead>
    <tr>
      <th> Name </th>
      <th> Student_id </th>
      <th> Address </th>
      <th> Phone_no </th>
      <th> Email </th>
      <th colspan="3">Action</th>
    </tr>
  </thead>
  <tbody>
    <% @students.each do |student| %>
      <tr>
        <td><%= student.name %></td>
        <td><%= student.id %></td>
        <td><%= student.address %></td>
        <td><%= student.phone_no %></td>
        <td><%= student.email %></td>
        <td><%= link_to 'View', student %></td>
        <td><%= link_to 'Edit', edit_student_path(student) %></td>
        <td><%=  button_to "delete", student_path(student.id), method: :delete  %></td>
      </tr>
    <% end %>
  </tbody>
</table>